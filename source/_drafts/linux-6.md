---
title: linux_6
draft: true
date: 2019-03-08 09:34:12
tags:
---

## 第六章、Linux文件与目录

### 6.1 目录与路径

  * 6.1.1 相对路径与绝对路径
    + 绝对路径：由根目录开始（以/开头）
    + 相对路径：不是由根目录开始（以“.”或者“..”开头）
  * 6.1.2 目录相关操作
    + cd: 切换目录
      - cd /var
    + pwd: 显示当前所在目录
      - 语法：pwd [-P] 
        - -p: 显示确切的地址，而不是链接
        > 例如：在/var/mail下运行会得到不同的值
    + mkdir: 创建目录
      - 语法：mkdir [-mp] 目录名称
        - -m: 配置目录权限
        - -p: 递归创建文件夹
      - 例子：mkdir -m 711 -p /tmp/test1/test2/test3
    + rmdir: 删除*空*目录
      - 语法：rmdir [-p] 目录名称
        - -p：连同上层空目录一起删除
      - 例子：rmdir -p /tmp/test1/test2/test3

### 6.2 文件与目录管理

  * 6.2.1 文件目录检视：ls
    + 语法： ls [-aAdfFilnrRSt] 文件名或者目录名称
      - -a：全部的文件，连同隐藏文件
      - -d：仅列出目录本身
      - -l：长数据串行出（什么鬼？），包含文件属性和权限等数据
  * 6.2.2 复制、删除与移动：cp,rm,mv
    + cp: 复制文件，建立连接档，比对两文件的新旧再更新，复制整个目录等等
      - 语法： cp [-adfilprsu] 来源文件 目标文件
        - -a: 相当于-dr --preserve=all
        - -d: 若来源文件为连接文件的属性，则复制链接文件属性而非文件本身
        - -i: 若目标文件已经存在，在覆盖时会先询问动作的进行
        - -p: 连同文件的属性（权限、用户、事件）一起复制过去，而非使用默认属性
        - -r: 递归持续复制，用于目录的复制
        - 
    + mv: 移动目录与文件，可以用于更名
      - 语法：mv [-fiu] 源文件 目标文件
        - -f: 强制覆盖
        - -i: 如果目标存在，就询问是否覆盖
        - -u: 源文件比较新才会覆盖目标文件
    + rm: 删除
      - 语法：rm [-fir] 文件或者目录
        - -f: 忽略不存在的文件，不回出现警告信息
        - -i: 互动模式，在删除前会询问
        - -r: 递归删除
  * 6.2.3 取得路径的文件名与目录名称
    + basename
    + dirname

### 6.3文件内容查阅

  * 6.3.1 直接检视文件内容
    + cat: 由第一行开始显示文件内容
      - 语法：cat [-AbEnTv] 文件
        - -A: 相当于[-vET]
        - -b: 列出非空白行行号
        - -E:将结尾的断行符*$*显示出来
        - -n: 列出所有行行号，包含空白行
        - -T: 将[tab]按键以`^I`显示出来
        - -v: 列出一些看不出来的特殊字符
    + tac: 从最后一行开始显示
    + nl: 显示的时候，顺道输出行号
      - 语法：nl [-bnw] 文件
        - -b: 指定行号的方式
          - -b a: 空行也需要行号（类似：cat -n）
          - -b t: 空行不显示行号
        - -n: 列出行号表示的方法
          - -n ln: 行号在屏幕左方显示
          - -n rn: 行号在自己字段的右方显示，且不加0
          - -n rz: 行号在自己字段的最右方显示，且加0
         - -w: 行号字段占用字符数
    + more: 一页一页的显示文件内容
      - space: 下一页
      - Enter: 下一行
      - /字符串: 在显示内容中向下搜索【字符串】
      - :f: 立刻显示文件名和目标显示的行数
      - q: 退出
      - b: 往回翻页
    + less: 与more类似，但是可以往前翻页
    + head: 只看头几行
    + tail: 只看尾巴几行
    + od: 以二进制的方式读取文件

### 6.4 文件与目录的默认权限与隐藏权限

  * 6.4.1 文件预设权限： umask
    > 指定目前用户在建立文件或目录时候的权限默认值

    + 语法： umask [-S]
    + umask： 默认权限需要减掉的权限
        - 文件默认权限(666)：-rw-rw-rw-
        - 目录默认权限(777)：drwxrwxrwx
  * 6.4.2 文件隐藏属性
    + chattr： 设置隐藏属性
      - 语法: chattr [+-=ASacdistu] 文件或目录名称 
      - 说明：
        * i: 不能删除、改名、修改
        * a: 只能添加数据
    + lsattr： 显示文件隐藏属性
      - 语法： lsattr [-adR] 文件或目录
      - 说明：
        * -a: 显示隐藏属性；
        * -b: 如果目，只显示目录属性，目录内的
        文件不显示
        * -R： 子目录数据一并显示
  * 6.4.3 文件特殊权限： SUID,SGID,SBIT
    * 
    

